extends layout

block stylesheets
    link(rel='stylesheet', href='/stylesheets/index.css')
    link(rel='stylesheet', href='/stylesheets/games/roulette.css')


block scripts
    script(src='/javascripts/client-index.js')
    script(src='/javascripts/games/roulette.js')

block content
    .container-fluid.flex-fill
        .row.fill
            .col-lg-8.roulette-column
                .flex-column.fill
                        .content-box.flex-centre.flex-column(style='height: 150px; overflow-x: hidden;')
                            #roulette-wheel
                                .countdown-sheath(style='border-radius: 20rem; display: none;')
                                    p.countdown-clock 
                                #pointer
                            #roulette-history.flex-centre
                                - for(var i = 0; i < 16; i++)
                                    .roulette-history-slot
                        .row.flex-fill
                            .col-sm-4.flex-column
                                button.btn.btn-danger.bet-btn(type='button', bet='red') Red (1 to 7)
                                .content-box.flex-fill
                            .col-sm-4.flex-column
                                button.btn.btn-success.bet-btn(type='button', bet='green') Green (0)
                                .content-box.flex-fill
                            .col-sm-4.flex-column
                                button.btn.btn-dark.bet-btn(type='button', bet='black') Black (8 to 14)
                                .content-box.flex-fill
            .col-lg-4.flex-column.chat-column
                .content-box.flex-fill#chat-box
                    ul#chat-content
                .input-group(style='width: 100%;')
                    input.form-control(type='text', id='chat-input', maxlength='256', onkeydown='if(event.keyCode == 13) $("#chat-button").click();')
                    button.btn.btn-primary#chat-button(type='button', onClick='Chat.messageSend()') 
                        i.fa.fa-paper-plane(aria-hidden='true', style='margin-left: -4px;')

    script.
        Roulette.lastSpin = !{JSON.stringify(injections.lastSpin)};
        _injTime = #{injections.injTime};

        const x = !{JSON.stringify(injections.history)};
        for(var i = 0; i < x.length; i ++) {
            Roulette.history.add(x[i],0);
        }